<!--
	This file is part of the Boosted Board checker (https://github.com/dustinlieu/dustinlieu.github.io).
	Copyright 2020 Dustin Lieu.

	This program is free software: you can redistribute it and/or modify
	it under the terms of the GNU General Public License as published by
	the Free Software Foundation, either version 3 of the License, or
	(at your option) any later version.

	This program is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
	GNU General Public License for more details.

	You should have received a copy of the GNU General Public License
	along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->

<!DOCTYPE html>

<html>
	<head>
		<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;700&display=swap" rel="stylesheet">
		<link href="./style.css" rel="stylesheet">

		<title>Boosted Board checker</title>

		<meta charset="UTF-8">
		<meta property="og:title" content="Boosted Board checker">
		<meta property="og:description" content="A tool to check your Boosted Board's firmware versions." />
	</head>

	<body>
		<div class="content">
			<h1>Boosted Board checker</h1>

			<p class="banner">
				<i>Want to test your remote? Check out <a href="https://beambreak.org/tools/ble_remote_test/">Robert Scullin's remote tester</a> over at BeamBREak.</i>
			</p>

			<div>
				<strong>Requirements:</strong>
				<ul>
					<li>V2/V3 Boosted Board</li>
					<li>Device with Bluetooth LE support</li>
					<li>Chromium browser</li>
				</ul>
			</div>
			<div>
				<strong>Usage:</strong>
				<ol>
					<li>Put the board into pairing mode by pressing the power button quickly 5 times</li>
					<li>Press connect button below</li>
					<li>Select your board (it can take up to 15 seconds for it to show up)</li>
					<li>Accept the pairing request. On Windows you'll get a notification and on macOS a window will pop up.</li>
				</ol>
			</div>

			<div>
				<strong>Not working?</strong>
				<ul>
					<li>Make sure to accept the pairing request on your device</li>
					<li>Remove the board from your system's Bluetooth settings</li>
					<li>Turn off your phone's Bluetooth if your board is paired to the app</li>
					<li>Refresh the page</li>
				</ul>
			</div>

			<button onclick="onButtonClick()">Connect to board</button>

			<div class="category">
				<div class="line">
					<span class="label">Status:</span>
					<span class="value" id="status">Disconnected</span>
				</div>
			</div>

			<div class="category">
				<div class="line">
					<span class="label">Motor driver model:</span>
					<span class="value" id="md-model"></span>
				</div>
				<div class="line">
					<span class="label">Motor driver serial number:</span>
					<span class="value" id="md-serial-number"></span>
				</div>
				<div class="line">
					<span class="label">Motor driver firmware version:</span>
					<span class="value" id="md-firmware-version"></span>
				</div>
				<div class="line">
					<span class="label">Beams support:</span>
					<span class="value" id="md-beams-supported"></span>
				</div>
				<div class="line">
					<span class="label">Odometer:</span>
					<span class="value" id="md-odo"></span>
				</div>
				<div class="line">
					<span class="label">Supported ride modes:</span>
					<span class="value" id="md-ride-modes"></span>
				</div>
				<div class="line">
					<span class="label">Current ride mode:</span>
					<span class="value" id="md-current-ride-mode"></span>
				</div>
			</div>

			<div class="category">
				<div class="line">
					<span class="label">Battery model:</span>
					<span class="value" id="battery-model"></span>
				</div>
				<div class="line">
					<span class="label">Battery serial number:</span>
					<span class="value" id="battery-serial-number"></span>
				</div>
				<div class="line">
					<span class="label">Battery firmware version:</span>
					<span class="value" id="battery-firmware-version"></span>
				</div>
				<div class="line">
					<span class="label">Battery SOC:</span>
					<span class="value" id="battery-soc"></span>
				</div>
				<div class="line">
					<span class="label">Battery capacity:</span>
					<span class="value" id="battery-cap"></span>
				</div>
			</div>

			<hr>

			<footer>
				Created by Dustin Lieu
			</footer>
		</div>

		<script src="./script.js"></script>
	</body>
</html>